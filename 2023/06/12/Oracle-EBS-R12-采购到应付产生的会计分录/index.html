<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>Oracle EBS R12 采购到应付产生的会计分录 | 互联网新贵邓醒</title><meta name="author" content="Xing Deng"><meta name="copyright" content="Xing Deng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Oracle EBS R12 采购到应付产生的会计分录一、采购业务采购业务是一般企业都会有的业务，主要包括请购、采购、接收、入库、发票、付款几个步骤。分别对应采购、库存、成本、应付以及总账模块。Oracle是财务业务一体化的系统，只要录入了相应的业务，则会自动生成相应的财务信息。 1、采购接收采购模块主要功能是帮助业务部门管理采购订单，控制采购流程，审批层次，在请购单、和采购订单录入审批阶段是不产">
<meta property="og:type" content="article">
<meta property="og:title" content="Oracle EBS R12 采购到应付产生的会计分录">
<meta property="og:url" content="http://dengliantong.cn/2023/06/12/Oracle-EBS-R12-%E9%87%87%E8%B4%AD%E5%88%B0%E5%BA%94%E4%BB%98%E4%BA%A7%E7%94%9F%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%88%86%E5%BD%95/index.html">
<meta property="og:site_name" content="互联网新贵邓醒">
<meta property="og:description" content="Oracle EBS R12 采购到应付产生的会计分录一、采购业务采购业务是一般企业都会有的业务，主要包括请购、采购、接收、入库、发票、付款几个步骤。分别对应采购、库存、成本、应付以及总账模块。Oracle是财务业务一体化的系统，只要录入了相应的业务，则会自动生成相应的财务信息。 1、采购接收采购模块主要功能是帮助业务部门管理采购订单，控制采购流程，审批层次，在请购单、和采购订单录入审批阶段是不产">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://images3.alphacoders.com/103/103237.jpg">
<meta property="article:published_time" content="2023-06-12T00:58:47.000Z">
<meta property="article:modified_time" content="2023-06-12T02:28:08.952Z">
<meta property="article:author" content="Xing Deng">
<meta property="article:tag" content="EBS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://images3.alphacoders.com/103/103237.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://dengliantong.cn/2023/06/12/Oracle-EBS-R12-%E9%87%87%E8%B4%AD%E5%88%B0%E5%BA%94%E4%BB%98%E4%BA%A7%E7%94%9F%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%88%86%E5%BD%95/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Oracle EBS R12 采购到应付产生的会计分录',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-12 10:28:08'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.2"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/loading.gif" data-original="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 图库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://images3.alphacoders.com/103/103237.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="互联网新贵邓醒"><span class="site-name">互联网新贵邓醒</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 目录</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 图库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Oracle EBS R12 采购到应付产生的会计分录</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-12T00:58:47.000Z" title="发表于 2023-06-12 08:58:47">2023-06-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-12T02:28:08.952Z" title="更新于 2023-06-12 10:28:08">2023-06-12</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>17分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Oracle EBS R12 采购到应付产生的会计分录"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="Oracle-EBS-R12-采购到应付产生的会计分录"><a href="#Oracle-EBS-R12-采购到应付产生的会计分录" class="headerlink" title="Oracle EBS R12 采购到应付产生的会计分录"></a>Oracle EBS R12 采购到应付产生的会计分录</h3><h4 id="一、采购业务"><a href="#一、采购业务" class="headerlink" title="一、采购业务"></a>一、采购业务</h4><p>采购业务是一般企业都会有的业务，主要包括请购、采购、接收、入库、发票、付款几个步骤。分别对应采购、库存、成本、应付以及总账模块。<br>Oracle是财务业务一体化的系统，只要录入了相应的业务，则会自动生成相应的财务信息。</p>
<h5 id="1、采购接收"><a href="#1、采购接收" class="headerlink" title="1、采购接收"></a>1、采购接收</h5><p>采购模块主要功能是帮助业务部门管理采购订单，控制采购流程，审批层次，在请购单、和采购订单录入审批阶段是不产生财务信息的。</p>
<p>现假设企业采购两批原材料，价格50*2=100元。企业当前的银行存款为100元，库存成本为0。</p>
<p>在采购订单接收时，实际上表示物料采购已既成事实，我们将因此产生一笔因采购产生的应计负债，同时记一笔帐到我们的采购接收帐户。<br>采购接收的会计分录为：</p>
<table>
<thead>
<tr>
<th>商品采购</th>
<th>DR</th>
<th>100￥</th>
</tr>
</thead>
<tbody><tr>
<td>应付帐款 - 应付暂估</td>
<td>CR</td>
<td>100￥</td>
</tr>
</tbody></table>
<p>商品采购和应付帐款-应付暂估都是中转科目，相关科目的余额变化如下：</p>
<table>
<thead>
<tr>
<th>科目</th>
<th>初</th>
<th>末</th>
</tr>
</thead>
<tbody><tr>
<td>商品采购</td>
<td>0 +100</td>
<td>100￥</td>
</tr>
<tr>
<td>应付帐款-应付暂估</td>
<td>0 +100</td>
<td>100￥</td>
</tr>
</tbody></table>
<p>入库和创建发票分录后，这两个科目余额将会结平为0。</p>
<p>这里为了更直观显示财务变化境况，而实时计算了各科目的余额，并同时假设所有科目的期初金额为0，这样做的目的仅仅是为了更好理解一些中转科目的余额变化情况，EBS实际业务中科目余额的变动都是要在子模块传送至总账，并过账以后才发生的。</p>
<p>具体的分录产生流程如下：</p>
<ol>
<li><p>接收事务处理器<br>采购接收以后会自动运行“接收事务处理器”。接收事务处理器会在rcv_receiving_sub_ledger中产生采购接收的会计分录。<br>这也就是我们“接收事务处理汇总”界面查看到的分录。</p>
</li>
<li><p>传送总账<br>此时，R12中运行“创建会计科目 - 成本管理”请求，会产生子模块的会计分录 。<br>再提交“将日记帐分录传送至 GL - 成本管理”请求，则会插入分录信息至总账接口，则可以导入日记账过账。<br>在R12中，采购接收在总账日记账的来源为“Cost Management”，类别是“Receiving”。</p>
</li>
</ol>
<h5 id="2、交货入库"><a href="#2、交货入库" class="headerlink" title="2、交货入库"></a>2、交货入库</h5><p>采购接收以后则可以进一步交货入库。同样会执行“接收事务处理器”，不过这一次做的事情更多，取成本（成本核算方式不同，取成本的逻辑亦不同），插入记录至mtl_material_transactions表等。<br>此时还不会立刻产生入库的分录，成本管理器运行以后，则会产生库存模块的分录, 将商品采购科目的余额转移至库存成本帐户。<br>同时，如果采用标准成本，采购价格和入库成本的不同则可能产生PPV（采购价格差异Purchase Price Variance）。假设物料的标准成本为80￥，分录如下：</p>
<table>
<thead>
<tr>
<th>库存商品成本</th>
<th>DR</th>
<th>80￥</th>
</tr>
</thead>
<tbody><tr>
<td>PPV</td>
<td>DR</td>
<td>20￥</td>
</tr>
<tr>
<td>商品采购</td>
<td>CR</td>
<td>100￥</td>
</tr>
</tbody></table>
<p>相关科目的余额变化如下：</p>
<table>
<thead>
<tr>
<th>科目</th>
<th>初     发生</th>
<th>末</th>
</tr>
</thead>
<tbody><tr>
<td>库存商品成本</td>
<td>0      +80</td>
<td>80￥</td>
</tr>
<tr>
<td>PPV</td>
<td>0      +20</td>
<td>20￥</td>
</tr>
<tr>
<td>商品采购</td>
<td>100  -100</td>
<td>0￥</td>
</tr>
</tbody></table>
<p>中转科目商品采购科目的余额已结平为0。</p>
<p>1） 子模块<br>所有的库存物料事务处理（包括采购收货、子库转移、组织间转移、销售发放等等）的会计分录信息都在mtl_transaction_accounts表中 。<br>2） 总账<br>提交请求“将日记帐分录传送至 GL - 成本管理”，将子模块分录传送至总账。<br>此时总账将生成来源为je_source=’Cost Management’ and je_category=’Inventory‘的日记账分录。<br>到这里，东西已经买到并入库计入成本，接下来到付钱了。</p>
<h5 id="3、应付发票"><a href="#3、应付发票" class="headerlink" title="3、应付发票"></a>3、应付发票</h5><p>应付发票可以手工录入。与采购有关的发票需要通过匹配采购订单生成应付发票。根据采购项目的税码，会自动或手工产生税行。</p>
<p>如果收到的发票价格与采购价格有差异，还将产生IPV（发票价格差异Invoice Price Variance）。这里我们假设供应商给我们开出发票的价格为80￥，与我们的采购价格产生了20￥的IPV。税码为VAT17。</p>
<p>因此采购匹配的应付发票会计分录为：</p>
<table>
<thead>
<tr>
<th>应付帐款-应付暂估</th>
<th>DR</th>
<th>100￥</th>
</tr>
</thead>
<tbody><tr>
<td>暂估与发票差异(IPV)</td>
<td>DR</td>
<td>-20￥</td>
</tr>
<tr>
<td>进项税</td>
<td>DR</td>
<td>80*0.17￥</td>
</tr>
<tr>
<td>应付帐款-发票款</td>
<td>CR</td>
<td>93.6￥</td>
</tr>
</tbody></table>
<p>相关科目的余额变化如下：</p>
<table>
<thead>
<tr>
<th>科目</th>
<th>初     发生</th>
<th>末</th>
</tr>
</thead>
<tbody><tr>
<td>应付帐款-应付暂估</td>
<td>100    -100</td>
<td>0￥</td>
</tr>
<tr>
<td>暂估与发票差异(IPV)</td>
<td>0      -20</td>
<td>-20￥</td>
</tr>
<tr>
<td>进项税</td>
<td>0      -13.6</td>
<td>-13.6￥（应交税费属于负债类科目）</td>
</tr>
<tr>
<td>应付帐款-发票款</td>
<td>0      +93.6</td>
<td>93.6￥</td>
</tr>
</tbody></table>
<p>中转科目应付帐款-应付暂估科目的余额已结平为0。同时，由于供应商开出的发票价格为80，存在-20的IPV，因此我们实际的应付账款为80+80*1.17=93.6。</p>
<p>1） 录入发票<br>AP发票的分配记录了所有应付暂估和预付款核销的科目，再加上应付发票本身的应付账款科目 。<br>2） 创建会计分录<br>创建会计分录后，会在xla中产生分录信息<br>3） 传送总账<br>接下来，运行请求”将日记帐分录传送至 GL”，将在总账产生日记账分录。来源为je_source=’ Payables’ and je_category=’Purchase Invoices‘。</p>
<h5 id="4、应付贷项通知单"><a href="#4、应付贷项通知单" class="headerlink" title="4、应付贷项通知单"></a>4、应付贷项通知单</h5><p>应付贷项通知单与应付借项通知单与对应应收的概念并不等同。</p>
<p>应付贷项通知单：指供应商开给我们的表示应付减少的通知，负数，冲原始发票，可用0支付结清<br>应付贷项通知单常用于做采购退货业务，发生采购退货业务后，在应付录入应付贷项通知单，同时匹配退货生成贷项通知单行。</p>
<p>为了更容易理解，我们结合整个退货流程来认识贷项通知单业务。<br>退货流程：</p>
<p>1.接收-&gt;退货<br>假设我们交货后发现2批原材料中一批由于某种原因需要退货，通过接收-&gt;退货导航录入采购订单，执行退货业务。保存以后触发接收事务处理器，生成如下分录（与采购接收的分录方向恰恰相反）：</p>
<table>
<thead>
<tr>
<th>商品采购</th>
<th>CR</th>
<th>50￥</th>
</tr>
</thead>
<tbody><tr>
<td>应付帐款-应付暂估</td>
<td>DR</td>
<td>50￥</td>
</tr>
</tbody></table>
<p>冲减商品采购中转科目的余额，同时减少应付暂估中转科目的余额。相关科目的余额变化如下：</p>
<table>
<thead>
<tr>
<th>科目</th>
<th>初    发生</th>
<th>余额</th>
</tr>
</thead>
<tbody><tr>
<td>商品采购</td>
<td>0     -50</td>
<td>-50￥</td>
</tr>
<tr>
<td>应付帐款</td>
<td>0</td>
<td>-50￥</td>
</tr>
</tbody></table>
<p>以上分录可以通过前面的po_rcv_ledger.sql和po_rcv_xla_ledger.sql查询。</p>
<p>同时，在成本管理器运行以后，退货产生库存成本变动的分录，如下（与采购接收入库的分录方向恰恰相反）：        </p>
<table>
<thead>
<tr>
<th>库存商品成本</th>
<th>CR</th>
<th>40￥</th>
</tr>
</thead>
<tbody><tr>
<td>PPV</td>
<td>CR</td>
<td>10￥</td>
</tr>
<tr>
<td>商品采购</td>
<td>DR</td>
<td>50￥</td>
</tr>
</tbody></table>
<p>减少库存成本和PPV，增加商品采购，相关科目的余额变化如下：</p>
<table>
<thead>
<tr>
<th>科目</th>
<th>初      发生</th>
<th>余额</th>
</tr>
</thead>
<tbody><tr>
<td>库存商品成本</td>
<td>80       -40</td>
<td>40￥</td>
</tr>
<tr>
<td>PPV</td>
<td>20       -10</td>
<td>10￥</td>
</tr>
<tr>
<td>商品采购</td>
<td>-50       +50</td>
<td>0￥</td>
</tr>
</tbody></table>
<p>中转科目商品采购科目的余额已结平为0。<br>以上分录可以通过前面的po_rcv_inv_ledger.sql 和po_rcv_inv_xla_ledger.sql 查询。</p>
<p>2.贷项通知单匹配退货<br>通过应付款发票界面录入类型为贷项通知单的应付发票，然后通过匹配采购退货产生贷项通知单行。<br>对于采购退货业务的分录如下(与应收发票的分录方向恰恰相反)：</p>
<table>
<thead>
<tr>
<th>应付帐款-应付暂估</th>
<th>CR</th>
<th>50￥</th>
</tr>
</thead>
<tbody><tr>
<td>暂估与发票差异(IPV)</td>
<td>CR</td>
<td>-10￥</td>
</tr>
<tr>
<td>进项税</td>
<td>CR</td>
<td>40*0.17￥（应交税费属于负债类科目）</td>
</tr>
<tr>
<td>应付帐款-发票款</td>
<td>DR</td>
<td>93.6/2￥</td>
</tr>
</tbody></table>
<p>相关科目的余额变化如下：</p>
<table>
<thead>
<tr>
<th>科目</th>
<th>初       发生</th>
<th>余额</th>
</tr>
</thead>
<tbody><tr>
<td>应付帐款-应付暂估</td>
<td>-50      +50</td>
<td>0￥</td>
</tr>
<tr>
<td>暂估与发票差异(IPV)</td>
<td>-20      +10</td>
<td>-10￥</td>
</tr>
<tr>
<td>进项税</td>
<td>-13.6     +6.8</td>
<td>-6.8￥</td>
</tr>
<tr>
<td>应付帐款-发票款</td>
<td>93.6    -46.8</td>
<td>46.8￥</td>
</tr>
</tbody></table>
<p>中转科目应付帐款-应付暂估科目的余额已结平为0。<br>这样，退货的最终结果就是使库存成本和应付账款-发票款相应减少。<br>可以通过上面ap_inv_ledger.sql和ap_inv_xla_ledger.sql查询贷项通知单有关的分录信息。</p>
<h5 id="5、应付借项通知单"><a href="#5、应付借项通知单" class="headerlink" title="5、应付借项通知单"></a>5、应付借项通知单</h5><p>借项通知单，指我们自己开出的表示应付减少的通知，同样是负数，冲原始发票，可用0支付结清。<br>我个人的理解是，应付借项通知单，适用于发票做错后的反冲。功能上它与贷项通知单基本相似，也可用于退货业务。在采购退货界面有是否生成借项通知单的复选框，通过采购系统选项控制是否启用。</p>
<h5 id="6、付款"><a href="#6、付款" class="headerlink" title="6、付款"></a>6、<strong>付款</strong></h5><p>发票生成并验证通过以后，可以对发票进行付款。<br>可以在发票界面通过快速付款，付款界面录入人工付款，或者进行批付款对发票进行批量付款。批付款常应用于员工报销付款。<br>在付款界面，将蓝票（应付发票）和红票（贷项通知单）选入到同一个付款，先进行核销，再进行付款。</p>
<p>对发票付款，实际上就是用现金支付应付欠款，现金与应付款都减少，由于我们产生过退货业务，因此，产生分录如下：</p>
<table>
<thead>
<tr>
<th>应付帐款-发票款</th>
<th>DR</th>
<th>46.8￥</th>
</tr>
</thead>
<tbody><tr>
<td>银行存款</td>
<td>CR</td>
<td>46.8￥</td>
</tr>
</tbody></table>
<p>相关科目的余额变化如下：</p>
<table>
<thead>
<tr>
<th>科目</th>
<th>初    发生</th>
<th>余额</th>
</tr>
</thead>
<tbody><tr>
<td>应付帐款-发票款</td>
<td>46.8   -46.8</td>
<td>0￥</td>
</tr>
<tr>
<td>银行存款</td>
<td>100    -46.8</td>
<td>53.2￥</td>
</tr>
</tbody></table>
<p>可以看到，经过各个阶段的业务流程，最终形成的分录实际上等效于如下分录，在企业仅上线财务而没上线业务模块的时候，需要手工做如下分录，由此可见，财务业务一体化提供了很大的便捷性：</p>
<table>
<thead>
<tr>
<th>库存商品成本</th>
<th>DR</th>
<th>40￥</th>
</tr>
</thead>
<tbody><tr>
<td>PPV</td>
<td>DR</td>
<td>10￥</td>
</tr>
<tr>
<td>IPV</td>
<td>DR</td>
<td>-10￥</td>
</tr>
<tr>
<td>进项税</td>
<td>DR</td>
<td>6.8￥</td>
</tr>
<tr>
<td>银行存款</td>
<td>CR</td>
<td>46.8￥</td>
</tr>
</tbody></table>
<p>最后，到月底，企业结账，手工做如下两笔分录调整IPV和PPV差异<br>1）</p>
<table>
<thead>
<tr>
<th>库存商品成本</th>
<th>DR</th>
<th>10￥</th>
</tr>
</thead>
<tbody><tr>
<td>PPV</td>
<td>CR</td>
<td>10￥</td>
</tr>
</tbody></table>
<p>2）</p>
<table>
<thead>
<tr>
<th>库存商品成本</th>
<th>CR</th>
<th>10￥</th>
</tr>
</thead>
<tbody><tr>
<td>IPV</td>
<td>DR</td>
<td>10￥</td>
</tr>
</tbody></table>
<p>调整后PPV和IPV分别结平为0。</p>
<ol>
<li>对发票付款<br>创建会计分录以后，可以通过表查到分录信息。</li>
<li>传送总账。<br>接下来，运行请求” 将日记帐分录传送至 GL”，将在总账产生日记账分录。来源为je_source=’ Payables’ and je_category=’ Payments ‘。</li>
</ol>
<h4 id="二、其他应付业务"><a href="#二、其他应付业务" class="headerlink" title="二、其他应付业务"></a>二、其他应付业务</h4><p>其他应付业务，以及部分FA业务。<br><strong>1、费用报表</strong><br>费用报表是网上报销模块导入的一种类型的应付发票，当网上报销流程结束并审核通过后，可以通过请求“导入费用报表”导入应付发票。<br>除了与标准应付发票的科目有所不同。其他作用等同于标准应付发票。企业员工报销的分录通常如下：</p>
<table>
<thead>
<tr>
<th>员工报销科目</th>
<th>DR</th>
</tr>
</thead>
<tbody><tr>
<td>其他应付款-报销</td>
<td>CR</td>
</tr>
</tbody></table>
<p><strong>2、手工应付发票</strong><br>应付除了用于与采购模块集成外，还可以通过应付发票做些其他的杂项业务。记录些与采购无关的业务。<br>例如，企业招待客户时，员工张某代为支付客户招待费100元，为了之后偿还该员工供应商张某这100元，可以如下建应付发票：<br>直接用手工录入发票分配：招待费 100元；并指定负债帐户为：其他应付款。产生分录如下：</p>
<table>
<thead>
<tr>
<th>招待费</th>
<th>DR</th>
<th>100￥</th>
</tr>
</thead>
<tbody><tr>
<td>其他应付款</td>
<td>CR</td>
<td>100￥</td>
</tr>
</tbody></table>
<p>未上线网上报销模块时常常如上手工建立应付发票实现员工报销。</p>
<p><strong>3、应付发票导入固定资产</strong></p>
<p>应付发票可以成批增加为固定资产。有两种方式建立应付发票：<br>1） 直接定义固定资产型物料，其属性不可库存，并制定它的销售费用科目为固定资产中转科目。<br>该种类型物料接收、交货通常不会产生会计分录，然后通过应付发票匹配采购订单。这时候，应付发票的分录应为：</p>
<table>
<thead>
<tr>
<th>固定资产中转</th>
<th>DR</th>
</tr>
</thead>
<tbody><tr>
<td>应付帐款</td>
<td>CR</td>
</tr>
</tbody></table>
<p>2） 手工录入应付发票，并指定发票分配科目为固定资产中转科目。它的分录同上（1）。</p>
<p>最后，在应付模块提交请求“创建成批增加”后，则可以在FA模块成批增加资产。最终过账后，会形成如下分录。</p>
<table>
<thead>
<tr>
<th>固定资产</th>
<th>DR</th>
</tr>
</thead>
<tbody><tr>
<td>固定资产中转</td>
<td>CR</td>
</tr>
</tbody></table>
<p>固定资产中转科目结清为0.<br>FA创建会计分录后，产生固定资产的分录信息。</p>
<p><strong>4、预付款发票</strong></p>
<p>预付款发票可以用以核销标准发票，他与标准发票的分录有所不同，不过技术实现上是一样的。它的分录通常是：</p>
<table>
<thead>
<tr>
<th>预付账款</th>
<th>DR</th>
</tr>
</thead>
<tbody><tr>
<td>应付帐款</td>
<td>CR</td>
</tr>
</tbody></table>
<p>当核销时，他的分录为</p>
<table>
<thead>
<tr>
<th>应付账款</th>
<th>DR</th>
</tr>
</thead>
<tbody><tr>
<td>预付账款</td>
<td>CR</td>
</tr>
</tbody></table>
<p><strong>查询脚本</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--应付发票的应付账款贷项</span></span><br><span class="line"><span class="keyword">SELECT</span> ai.invoice_num,</span><br><span class="line">       ai.gl_date,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>,</span><br><span class="line">                             <span class="string">&#x27;GL#&#x27;</span>,</span><br><span class="line">                             <span class="number">50328</span>,</span><br><span class="line">                             ai.accts_pay_code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 ai.accts_pay_code_combination_id) acct_desc,</span><br><span class="line">       <span class="number">0</span> dr,</span><br><span class="line">       ai.invoice_amount cr</span><br><span class="line">  <span class="keyword">FROM</span> ap_invoices_all ai</span><br><span class="line"> <span class="keyword">WHERE</span> ai.invoice_id <span class="operator">=</span> <span class="operator">&amp;</span>p_invoice_id</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="comment">--由于预付核销产生的应付账款借项</span></span><br><span class="line"><span class="keyword">SELECT</span> ai.invoice_num,</span><br><span class="line">       aid.accounting_date,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>,</span><br><span class="line">                             <span class="string">&#x27;GL#&#x27;</span>,</span><br><span class="line">                             <span class="number">50328</span>,</span><br><span class="line">                             ai.accts_pay_code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 ai.accts_pay_code_combination_id) acct_desc,</span><br><span class="line">       <span class="number">-1</span> <span class="operator">*</span> aid.amount dr,</span><br><span class="line">       <span class="number">0</span> cr</span><br><span class="line">  <span class="keyword">FROM</span> ap_invoices_all ai, ap_invoice_distributions_all aid</span><br><span class="line"> <span class="keyword">WHERE</span> ai.invoice_id <span class="operator">=</span> aid.invoice_id</span><br><span class="line">   <span class="keyword">AND</span> aid.line_type_lookup_code <span class="operator">=</span> <span class="string">&#x27;PREPAY&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> ai.invoice_id <span class="operator">=</span> <span class="operator">&amp;</span>p_invoice_id</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="comment">-- 应付发票分配(借项)</span></span><br><span class="line"><span class="keyword">SELECT</span> ai.invoice_num,</span><br><span class="line">       aid.accounting_date,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>,</span><br><span class="line">                             <span class="string">&#x27;GL#&#x27;</span>,</span><br><span class="line">                             <span class="number">50328</span>,</span><br><span class="line">                             aid.dist_code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 aid.dist_code_combination_id) acct_desc,</span><br><span class="line">       aid.amount dr,</span><br><span class="line">       <span class="number">0</span> cr</span><br><span class="line">  <span class="keyword">FROM</span> ap_invoices_all ai, ap_invoice_distributions_all aid</span><br><span class="line"> <span class="keyword">WHERE</span> ai.invoice_id <span class="operator">=</span> aid.invoice_id</span><br><span class="line">   <span class="keyword">AND</span> ai.invoice_id <span class="operator">=</span> <span class="operator">&amp;</span>p_invoice_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> gcc.segment3,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>, <span class="string">&#x27;GL#&#x27;</span>, <span class="number">50328</span>, gcc.code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 gcc.code_combination_id) acct_desc,</span><br><span class="line">       l.accounted_dr,</span><br><span class="line">       l.accounted_cr</span><br><span class="line">  <span class="keyword">FROM</span> xla.xla_transaction_entities te,</span><br><span class="line">       xla_events                   e,</span><br><span class="line">       xla_ae_headers               h,</span><br><span class="line">       xla_ae_lines                 l,</span><br><span class="line">       gl_code_combinations         gcc</span><br><span class="line"> <span class="keyword">WHERE</span> te.entity_code <span class="operator">=</span> <span class="string">&#x27;AP_INVOICES&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> <span class="number">200</span></span><br><span class="line">   <span class="keyword">AND</span> te.ledger_id <span class="operator">=</span> <span class="number">2022</span></span><br><span class="line">   <span class="keyword">AND</span> nvl(te.source_id_int_1, (<span class="number">-99</span>)) <span class="operator">=</span> <span class="number">106688</span></span><br><span class="line">   <span class="keyword">AND</span> te.entity_id <span class="operator">=</span> h.entity_id</span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> e.event_id <span class="operator">=</span> h.event_id</span><br><span class="line">   <span class="keyword">AND</span> e.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> h.ae_header_id <span class="operator">=</span> l.ae_header_id</span><br><span class="line">   <span class="keyword">AND</span> h.application_id <span class="operator">=</span> l.application_id</span><br><span class="line">   <span class="keyword">AND</span> l.code_combination_id <span class="operator">=</span> gcc.code_combination_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> h.accounting_date,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>, <span class="string">&#x27;GL#&#x27;</span>, <span class="number">50328</span>, gcc.code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 gcc.code_combination_id) acct_desc,</span><br><span class="line">       l.accounted_dr,</span><br><span class="line">       l.accounted_cr</span><br><span class="line">  <span class="keyword">FROM</span> xla.xla_transaction_entities te,</span><br><span class="line">       xla_events                   e,</span><br><span class="line">       xla_ae_headers               h,</span><br><span class="line">       xla_ae_lines                 l,</span><br><span class="line">       gl_code_combinations         gcc</span><br><span class="line"> <span class="keyword">WHERE</span> te.entity_code <span class="operator">=</span> <span class="string">&#x27;AP_PAYMENTS&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> <span class="number">200</span></span><br><span class="line">   <span class="keyword">AND</span> te.ledger_id <span class="operator">=</span> <span class="number">2022</span></span><br><span class="line">   <span class="keyword">AND</span> nvl(te.source_id_int_1, (<span class="number">-99</span>)) <span class="operator">=</span> <span class="number">55638</span></span><br><span class="line">   <span class="keyword">AND</span> te.entity_id <span class="operator">=</span> h.entity_id</span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> e.event_id <span class="operator">=</span> h.event_id</span><br><span class="line">   <span class="keyword">AND</span> e.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> h.ae_header_id <span class="operator">=</span> l.ae_header_id</span><br><span class="line">   <span class="keyword">AND</span> h.application_id <span class="operator">=</span> l.application_id</span><br><span class="line">   <span class="keyword">AND</span> l.code_combination_id <span class="operator">=</span> gcc.code_combination_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">--事务处理</span></span><br><span class="line"><span class="keyword">SELECT</span> fa.asset_number,</span><br><span class="line">       fth.transaction_type_code,</span><br><span class="line">       h.period_name,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>, <span class="string">&#x27;GL#&#x27;</span>, <span class="number">50328</span>, gcc.code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 gcc.code_combination_id) acct_desc,</span><br><span class="line">       l.accounted_dr,</span><br><span class="line">       l.accounted_cr</span><br><span class="line">  <span class="keyword">FROM</span> xla.xla_transaction_entities te,</span><br><span class="line">       xla_events                   e,</span><br><span class="line">       xla_ae_headers               h,</span><br><span class="line">       xla_ae_lines                 l,</span><br><span class="line">       gl_code_combinations         gcc,</span><br><span class="line">       fa_transaction_headers       fth,</span><br><span class="line">       fa_additions                 fa</span><br><span class="line"> <span class="keyword">WHERE</span> te.entity_code <span class="operator">=</span> <span class="string">&#x27;TRANSACTIONS&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> <span class="number">140</span></span><br><span class="line">   <span class="keyword">AND</span> te.ledger_id <span class="operator">=</span> <span class="number">2022</span></span><br><span class="line">   <span class="keyword">AND</span> nvl(te.source_id_int_1, (<span class="number">-99</span>)) <span class="operator">=</span> fth.transaction_header_id</span><br><span class="line">   <span class="keyword">AND</span> fth.asset_id <span class="operator">=</span> fa.asset_id</span><br><span class="line">   <span class="keyword">AND</span> te.entity_id <span class="operator">=</span> h.entity_id</span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> e.event_id <span class="operator">=</span> h.event_id</span><br><span class="line">   <span class="keyword">AND</span> e.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> h.ae_header_id <span class="operator">=</span> l.ae_header_id</span><br><span class="line">   <span class="keyword">AND</span> h.application_id <span class="operator">=</span> l.application_id</span><br><span class="line">   <span class="keyword">AND</span> l.code_combination_id <span class="operator">=</span> gcc.code_combination_id</span><br><span class="line">   <span class="keyword">AND</span> fa.asset_number <span class="operator">=</span> <span class="string">&#x27;&amp;p_asset_number&#x27;</span></span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="comment">-- 折旧</span></span><br><span class="line"><span class="keyword">SELECT</span> fa.asset_number,</span><br><span class="line">       te.entity_code,</span><br><span class="line">       h.period_name,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>, <span class="string">&#x27;GL#&#x27;</span>, <span class="number">50328</span>, gcc.code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 gcc.code_combination_id) acct_desc,</span><br><span class="line">       l.accounted_dr,</span><br><span class="line">       l.accounted_cr</span><br><span class="line">  <span class="keyword">FROM</span> xla.xla_transaction_entities te,</span><br><span class="line">       xla_events                   e,</span><br><span class="line">       xla_ae_headers               h,</span><br><span class="line">       xla_ae_lines                 l,</span><br><span class="line">       gl_code_combinations         gcc,</span><br><span class="line">       fa_additions                 fa</span><br><span class="line"> <span class="keyword">WHERE</span> te.entity_code <span class="operator">=</span> <span class="string">&#x27;DEPRECIATION&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> <span class="number">140</span></span><br><span class="line">   <span class="keyword">AND</span> te.ledger_id <span class="operator">=</span> <span class="number">2022</span></span><br><span class="line">   <span class="keyword">AND</span> nvl(te.source_id_int_1, (<span class="number">-99</span>)) <span class="operator">=</span> fa.asset_id</span><br><span class="line">   <span class="keyword">AND</span> te.entity_id <span class="operator">=</span> h.entity_id</span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> e.event_id <span class="operator">=</span> h.event_id</span><br><span class="line">   <span class="keyword">AND</span> e.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> h.ae_header_id <span class="operator">=</span> l.ae_header_id</span><br><span class="line">   <span class="keyword">AND</span> h.application_id <span class="operator">=</span> l.application_id</span><br><span class="line">   <span class="keyword">AND</span> l.code_combination_id <span class="operator">=</span> gcc.code_combination_id</span><br><span class="line">   <span class="keyword">AND</span> fa.asset_number <span class="operator">=</span> <span class="string">&#x27;&amp;p_asset_number&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>, <span class="string">&#x27;GL#&#x27;</span>, <span class="number">50328</span>, mta.reference_account) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 mta.reference_account) acct_desc,</span><br><span class="line">       mtst.transaction_source_type_name,</span><br><span class="line">       mtt.transaction_type_name,</span><br><span class="line">       mta.transaction_date,</span><br><span class="line">       decode(sign(mta.transaction_value),</span><br><span class="line">              <span class="number">1</span>,</span><br><span class="line">              mta.transaction_value,</span><br><span class="line">              <span class="number">0</span>,</span><br><span class="line">              decode(sign(mta.base_transaction_value),</span><br><span class="line">                     <span class="number">1</span>,</span><br><span class="line">                     <span class="number">0</span>,</span><br><span class="line">                     <span class="number">0</span>,</span><br><span class="line">                     decode(sign(mta.primary_quantity), <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">NULL</span>),</span><br><span class="line">                     <span class="keyword">NULL</span>),</span><br><span class="line">              <span class="keyword">NULL</span>,</span><br><span class="line">              decode(sign(mta.base_transaction_value),</span><br><span class="line">                     <span class="number">1</span>,</span><br><span class="line">                     mta.base_transaction_value,</span><br><span class="line">                     <span class="number">0</span>,</span><br><span class="line">                     decode(sign(mta.primary_quantity), <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="keyword">NULL</span>),</span><br><span class="line">                     <span class="keyword">NULL</span>),</span><br><span class="line">              <span class="keyword">NULL</span>) entered_dr,</span><br><span class="line">       decode(sign(mta.transaction_value),</span><br><span class="line">              <span class="number">-1</span>,</span><br><span class="line">              (<span class="number">-1</span> <span class="operator">*</span> mta.transaction_value),</span><br><span class="line">              <span class="number">0</span>,</span><br><span class="line">              decode(sign(mta.base_transaction_value),</span><br><span class="line">                     <span class="number">-1</span>,</span><br><span class="line">                     <span class="number">0</span>,</span><br><span class="line">                     <span class="number">0</span>,</span><br><span class="line">                     decode(sign(mta.primary_quantity), <span class="number">-1</span>, <span class="number">0</span>, <span class="keyword">NULL</span>),</span><br><span class="line">                     <span class="keyword">NULL</span>),</span><br><span class="line">              <span class="keyword">NULL</span>,</span><br><span class="line">              decode(sign(mta.base_transaction_value),</span><br><span class="line">                     <span class="number">-1</span>,</span><br><span class="line">                     (<span class="number">-1</span> <span class="operator">*</span> mta.base_transaction_value),</span><br><span class="line">                     <span class="number">0</span>,</span><br><span class="line">                     decode(sign(mta.primary_quantity), <span class="number">-1</span>, <span class="number">0</span>, <span class="keyword">NULL</span>),</span><br><span class="line">                     <span class="keyword">NULL</span>),</span><br><span class="line">              <span class="keyword">NULL</span>) entered_cr,</span><br><span class="line">       mmt.subinventory_code</span><br><span class="line">  <span class="keyword">FROM</span> mtl_transaction_accounts  mta,</span><br><span class="line">       mtl_material_transactions mmt,</span><br><span class="line">       mtl_transaction_types     mtt,</span><br><span class="line">       mtl_txn_source_types      mtst,</span><br><span class="line">       mtl_system_items_vl       msi</span><br><span class="line"> <span class="keyword">WHERE</span> mmt.organization_id <span class="operator">=</span> mta.organization_id</span><br><span class="line">   <span class="keyword">AND</span> mmt.transaction_id <span class="operator">=</span> mta.transaction_id</span><br><span class="line">   <span class="keyword">AND</span> mtt.transaction_type_id <span class="operator">=</span> mmt.transaction_type_id</span><br><span class="line">   <span class="keyword">AND</span> mtst.transaction_source_type_id <span class="operator">=</span> mmt.transaction_source_type_id</span><br><span class="line">   <span class="keyword">AND</span> msi.inventory_item_id <span class="operator">=</span> mmt.inventory_item_id</span><br><span class="line">   <span class="keyword">AND</span> msi.organization_id <span class="operator">=</span> mmt.organization_id</span><br><span class="line">   <span class="keyword">AND</span> mtst.transaction_source_type_name <span class="operator">=</span> <span class="string">&#x27;采购订单&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> mmt.transaction_source_id <span class="operator">=</span> <span class="number">2035</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> h.event_type_code,</span><br><span class="line">       l.accounting_class_code,</span><br><span class="line">       h.accounting_date,</span><br><span class="line">       l.entered_dr,</span><br><span class="line">       l.entered_cr,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 l.code_combination_id) descr,</span><br><span class="line">       ph.segment1 po_number</span><br><span class="line">  <span class="keyword">FROM</span> xla_ae_headers               h,</span><br><span class="line">       xla_ae_lines                 l,</span><br><span class="line">       xla_events                   e,</span><br><span class="line">       xla.xla_transaction_entities te,</span><br><span class="line">       mtl_material_transactions    mmt,</span><br><span class="line">       po_headers_all               ph</span><br><span class="line"> <span class="keyword">WHERE</span> h.application_id <span class="operator">=</span> l.application_id</span><br><span class="line">   <span class="keyword">AND</span> h.ae_header_id <span class="operator">=</span> l.ae_header_id</span><br><span class="line">   <span class="keyword">AND</span> h.application_id <span class="operator">=</span> e.application_id</span><br><span class="line">   <span class="keyword">AND</span> h.event_id <span class="operator">=</span> e.event_id</span><br><span class="line">   <span class="keyword">AND</span> h.application_id <span class="operator">=</span> te.application_id</span><br><span class="line">   <span class="keyword">AND</span> h.entity_id <span class="operator">=</span> te.entity_id</span><br><span class="line">   <span class="keyword">AND</span> nvl(te.source_id_int_1, <span class="number">-99</span>) <span class="operator">=</span> mmt.transaction_id</span><br><span class="line">   <span class="keyword">AND</span> mmt.transaction_source_id <span class="operator">=</span> ph.po_header_id</span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> <span class="number">707</span></span><br><span class="line">   <span class="keyword">AND</span> te.ledger_id <span class="operator">=</span> <span class="number">2022</span></span><br><span class="line">   <span class="keyword">AND</span> te.entity_code <span class="operator">=</span> <span class="string">&#x27;MTL_ACCOUNTING_EVENTS&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> nvl(te.source_id_int_1, <span class="number">-99</span>) <span class="operator">=</span> <span class="number">5050414</span>; <span class="comment">-- 采购入库的mmt id</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> poh.segment1,</span><br><span class="line">       poh.po_header_id,</span><br><span class="line">       rct.transaction_id,</span><br><span class="line">       rct.transaction_type,</span><br><span class="line">       rsh.shipment_header_id,</span><br><span class="line">       rsl.shipment_line_id,</span><br><span class="line">       rrs.je_category_name,</span><br><span class="line">       rrs.period_name,</span><br><span class="line">       rct.quantity,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>, <span class="string">&#x27;GL#&#x27;</span>, <span class="number">50328</span>, rrs.code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 rrs.code_combination_id) acct_desc,</span><br><span class="line">       rrs.entered_dr,</span><br><span class="line">       rrs.entered_cr</span><br><span class="line">  <span class="keyword">FROM</span> po_headers_all               poh,</span><br><span class="line">       po_lines_all                 pol,</span><br><span class="line">       po_releases_all              pr,</span><br><span class="line">       po_line_locations_all        pll,</span><br><span class="line">       po_distributions_all         pod,</span><br><span class="line">       rcv_receiving_sub_ledger     rrs,</span><br><span class="line">       rcv_transactions             rct,</span><br><span class="line">       rcv_shipment_headers         rsh,</span><br><span class="line">       rcv_shipment_lines           rsl,</span><br><span class="line">       org_organization_definitions ood</span><br><span class="line"> <span class="keyword">WHERE</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">   <span class="comment">-- PO </span></span><br><span class="line">   <span class="keyword">AND</span> poh.po_header_id <span class="operator">=</span> pol.po_header_id</span><br><span class="line">   <span class="keyword">AND</span> pol.po_line_id <span class="operator">=</span> pll.po_line_id</span><br><span class="line">   <span class="keyword">AND</span> pll.po_release_id <span class="operator">=</span> pr.po_release_id(<span class="operator">+</span>)</span><br><span class="line">   <span class="keyword">AND</span> pll.line_location_id <span class="operator">=</span> pod.line_location_id</span><br><span class="line">   <span class="comment">-- PO to Rcv</span></span><br><span class="line">   <span class="keyword">AND</span> to_char(pod.po_distribution_id) <span class="operator">=</span> rrs.reference3</span><br><span class="line">   <span class="keyword">AND</span> rrs.rcv_transaction_id <span class="operator">=</span> rct.transaction_id</span><br><span class="line">   <span class="keyword">AND</span> rct.shipment_header_id <span class="operator">=</span> rsh.shipment_header_id</span><br><span class="line">   <span class="keyword">AND</span> rct.shipment_line_id <span class="operator">=</span> rsl.shipment_line_id</span><br><span class="line">   <span class="comment">--</span></span><br><span class="line">   <span class="keyword">AND</span> rct.organization_id <span class="operator">=</span> ood.organization_id</span><br><span class="line">   <span class="keyword">AND</span> ood.set_of_books_id <span class="operator">=</span> rrs.set_of_books_id</span><br><span class="line">   <span class="keyword">AND</span> poh.segment1 <span class="operator">=</span> <span class="string">&#x27;2008000355&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> te.entity_code,</span><br><span class="line">       te.application_id,</span><br><span class="line">       gcc.segment3,</span><br><span class="line">       fnd_flex_ext.get_segs(<span class="string">&#x27;SQLGL&#x27;</span>, <span class="string">&#x27;GL#&#x27;</span>, <span class="number">50328</span>, gcc.code_combination_id) acct,</span><br><span class="line">       xla_oa_functions_pkg.get_ccid_description(<span class="number">50328</span>,</span><br><span class="line">                                                 gcc.code_combination_id) acct_desc,</span><br><span class="line">       l.accounted_dr,</span><br><span class="line">       l.accounted_cr</span><br><span class="line">  <span class="keyword">FROM</span> xla.xla_transaction_entities te,</span><br><span class="line">       xla_events                   e,</span><br><span class="line">       xla_ae_headers               h,</span><br><span class="line">       xla_ae_lines                 l,</span><br><span class="line">       gl_code_combinations         gcc,</span><br><span class="line">       rcv_transactions             rct,</span><br><span class="line">       po_headers_all               poh</span><br><span class="line"> <span class="keyword">WHERE</span> te.entity_code <span class="operator">=</span> <span class="string">&#x27;RCV_ACCOUNTING_EVENTS&#x27;</span></span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> <span class="number">707</span></span><br><span class="line">   <span class="keyword">AND</span> te.ledger_id <span class="operator">=</span> <span class="number">2022</span></span><br><span class="line">   <span class="keyword">AND</span> nvl(te.source_id_int_1, (<span class="number">-99</span>)) <span class="operator">=</span> rct.transaction_id</span><br><span class="line">   <span class="keyword">AND</span> te.entity_id <span class="operator">=</span> h.entity_id</span><br><span class="line">   <span class="keyword">AND</span> te.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> e.event_id <span class="operator">=</span> h.event_id</span><br><span class="line">   <span class="keyword">AND</span> e.application_id <span class="operator">=</span> h.application_id</span><br><span class="line">   <span class="keyword">AND</span> h.ae_header_id <span class="operator">=</span> l.ae_header_id</span><br><span class="line">   <span class="keyword">AND</span> h.application_id <span class="operator">=</span> l.application_id</span><br><span class="line">   <span class="keyword">AND</span> l.code_combination_id <span class="operator">=</span> gcc.code_combination_id</span><br><span class="line">   <span class="keyword">AND</span> rct.po_header_id <span class="operator">=</span> poh.po_header_id</span><br><span class="line">   <span class="keyword">AND</span> poh.segment1 <span class="operator">=</span> <span class="string">&#x27;2008000762&#x27;</span>;</span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://dengliantong.cn">Xing Deng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://dengliantong.cn/2023/06/12/Oracle-EBS-R12-%E9%87%87%E8%B4%AD%E5%88%B0%E5%BA%94%E4%BB%98%E4%BA%A7%E7%94%9F%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%88%86%E5%BD%95/">http://dengliantong.cn/2023/06/12/Oracle-EBS-R12-%E9%87%87%E8%B4%AD%E5%88%B0%E5%BA%94%E4%BB%98%E4%BA%A7%E7%94%9F%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%88%86%E5%BD%95/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://dengliantong.cn" target="_blank">互联网新贵邓醒</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/EBS/">EBS</a></div><div class="post_share"><div class="social-share" data-image="https://images3.alphacoders.com/103/103237.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/loading.gif" data-original="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/loading.gif" data-original="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/19/SSM%E6%A1%86%E6%9E%B6/" title="SSM框架"><img class="cover" src="/img/loading.gif" data-original="https://images.alphacoders.com/484/484614.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SSM框架</div></div></a></div><div class="next-post pull-right"><a href="/2023/06/10/Oracle-EBS-R12-%E6%8E%A5%E5%8F%A3%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3/" title="Oracle EBS R12 接口参考文档"><img class="cover" src="/img/loading.gif" data-original="https://images6.alphacoders.com/337/337255.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Oracle EBS R12 接口参考文档</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/06/10/Oracle-EBS-R12-%E6%8E%A5%E5%8F%A3%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3/" title="Oracle EBS R12 接口参考文档"><img class="cover" src="/img/loading.gif" data-original="https://images6.alphacoders.com/337/337255.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-10</div><div class="title">Oracle EBS R12 接口参考文档</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Xing Deng</div><div class="author-info__description">起风了,唯有努力生存!</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/waFroppy"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Welcome To My Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Oracle-EBS-R12-%E9%87%87%E8%B4%AD%E5%88%B0%E5%BA%94%E4%BB%98%E4%BA%A7%E7%94%9F%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%88%86%E5%BD%95"><span class="toc-text">Oracle EBS R12 采购到应付产生的会计分录</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E9%87%87%E8%B4%AD%E4%B8%9A%E5%8A%A1"><span class="toc-text">一、采购业务</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E9%87%87%E8%B4%AD%E6%8E%A5%E6%94%B6"><span class="toc-text">1、采购接收</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E4%BA%A4%E8%B4%A7%E5%85%A5%E5%BA%93"><span class="toc-text">2、交货入库</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%BA%94%E4%BB%98%E5%8F%91%E7%A5%A8"><span class="toc-text">3、应付发票</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E5%BA%94%E4%BB%98%E8%B4%B7%E9%A1%B9%E9%80%9A%E7%9F%A5%E5%8D%95"><span class="toc-text">4、应付贷项通知单</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E5%BA%94%E4%BB%98%E5%80%9F%E9%A1%B9%E9%80%9A%E7%9F%A5%E5%8D%95"><span class="toc-text">5、应付借项通知单</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E4%BB%98%E6%AC%BE"><span class="toc-text">6、付款</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%85%B6%E4%BB%96%E5%BA%94%E4%BB%98%E4%B8%9A%E5%8A%A1"><span class="toc-text">二、其他应付业务</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/09/20/JavaWeb/" title="JavaWeb"><img src="/img/loading.gif" data-original="https://images3.alphacoders.com/103/103237.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaWeb"/></a><div class="content"><a class="title" href="/2023/09/20/JavaWeb/" title="JavaWeb">JavaWeb</a><time datetime="2023-09-20T01:39:10.000Z" title="发表于 2023-09-20 09:39:10">2023-09-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/20/Java%E5%9F%BA%E7%A1%80/" title="Java基础"><img src="/img/loading.gif" data-original="https://images.alphacoders.com/484/484614.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java基础"/></a><div class="content"><a class="title" href="/2023/09/20/Java%E5%9F%BA%E7%A1%80/" title="Java基础">Java基础</a><time datetime="2023-09-20T01:38:45.000Z" title="发表于 2023-09-20 09:38:45">2023-09-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/19/SSM%E6%A1%86%E6%9E%B6/" title="SSM框架"><img src="/img/loading.gif" data-original="https://images.alphacoders.com/484/484614.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SSM框架"/></a><div class="content"><a class="title" href="/2023/09/19/SSM%E6%A1%86%E6%9E%B6/" title="SSM框架">SSM框架</a><time datetime="2023-09-19T07:55:40.000Z" title="发表于 2023-09-19 15:55:40">2023-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/12/Oracle-EBS-R12-%E9%87%87%E8%B4%AD%E5%88%B0%E5%BA%94%E4%BB%98%E4%BA%A7%E7%94%9F%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%88%86%E5%BD%95/" title="Oracle EBS R12 采购到应付产生的会计分录"><img src="/img/loading.gif" data-original="https://images3.alphacoders.com/103/103237.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Oracle EBS R12 采购到应付产生的会计分录"/></a><div class="content"><a class="title" href="/2023/06/12/Oracle-EBS-R12-%E9%87%87%E8%B4%AD%E5%88%B0%E5%BA%94%E4%BB%98%E4%BA%A7%E7%94%9F%E7%9A%84%E4%BC%9A%E8%AE%A1%E5%88%86%E5%BD%95/" title="Oracle EBS R12 采购到应付产生的会计分录">Oracle EBS R12 采购到应付产生的会计分录</a><time datetime="2023-06-12T00:58:47.000Z" title="发表于 2023-06-12 08:58:47">2023-06-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/10/Oracle-EBS-R12-%E6%8E%A5%E5%8F%A3%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3/" title="Oracle EBS R12 接口参考文档"><img src="/img/loading.gif" data-original="https://images6.alphacoders.com/337/337255.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Oracle EBS R12 接口参考文档"/></a><div class="content"><a class="title" href="/2023/06/10/Oracle-EBS-R12-%E6%8E%A5%E5%8F%A3%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3/" title="Oracle EBS R12 接口参考文档">Oracle EBS R12 接口参考文档</a><time datetime="2023-06-10T02:53:52.000Z" title="发表于 2023-06-10 10:53:52">2023-06-10</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://images3.alphacoders.com/103/103237.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Xing Deng</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="true" data-text="富强,民主,文明,和谐,平等,公正,法治,爱国,敬业,诚信,友善" data-fontsize="15px" data-random="true" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body></html>